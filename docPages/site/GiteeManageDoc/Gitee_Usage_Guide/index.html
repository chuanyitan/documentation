<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="tanchuanyi" /><link rel="canonical" href="https://tanchuanyi.gitee.io/documentation/GiteeManageDoc/Gitee_Usage_Guide/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Gitee_Usage_Guide - Study Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Gitee_Usage_Guide";
        var mkdocs_page_input_path = "GiteeManageDoc/Gitee_Usage_Guide.md";
        var mkdocs_page_url = "/documentation/GiteeManageDoc/Gitee_Usage_Guide/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Study Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">GiteeUsageGuide</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Gitee_Usage_Guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-gitee-key-manage">1 Gitee Key manage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#11key">1.1.单key管理</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#12-key">1.2 多key管理</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#note">Note</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Repo_Detail_Usage/">Repo_Detail_Usage</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">IDEToolDoc</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../IDEToolDoc/DebugToolManageDoc/">DebugToolManageDoc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../IDEToolDoc/DebugTool_GDB_Usage/">DebugTool_GDB_Usage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../IDEToolDoc/VSCode_tool_doc/">VSCode_tool_doc</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">StudyNoteDoc</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Linux_system</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../StudyNoteDoc/Linux_system/LXC_study/">LXC_study</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../StudyNoteDoc/Linux_system/SystemD%26SystemV_study/">SystemD&SystemV_study</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../StudyNoteDoc/Modern-C%2B%2B/Test-development/">Modern-C++</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../StudyNoteDoc/Software_Design/UML_Design_Study/">Software_Design</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Study Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">GiteeUsageGuide</li>
      <li class="breadcrumb-item active">Gitee_Usage_Guide</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="gitee-usage">Gitee usage</h1>
<p>[toc]</p>
<h2 id="1-gitee-key-manage">1 Gitee Key manage</h2>
<h3 id="11key">1.1.单key管理</h3>
<p>如果需要在新的服务器上下载新的仓库内容或提交代码及内容，需要在自己的服务器上生成ssh公钥，并添加到自己的账户当中。具体可以参考: <a href="https://help.gitee.com/enterprise/code-manage/%E6%9D%83%E9%99%90%E4%B8%8E%E8%AE%BE%E7%BD%AE/%E9%83%A8%E7%BD%B2%E5%85%AC%E9%92%A5%E7%AE%A1%E7%90%86/%E7%94%9F%E6%88%90%E6%88%96%E6%B7%BB%E5%8A%A0SSH%E5%85%AC%E9%92%A5">key manage</a></p>
<pre><code class="language-bash">1. sshkey生成密匙, 这里的 xxxxx@xxxxx.com 只是生成的 sshkey 的名称，并不约束或要求具体命名为某个邮箱
ssh-keygen -t ed25519 -C &quot;tanchuanyi@qq.com&quot;  
# Generating public/private ed25519 key pair...

2. 完成三次回车，即可生成 ssh key。通过查看 ~/.ssh/id_ed25519.pub 文件内容，获取到你的 public key
cat ~/.ssh/id_ed25519.pub
# ssh-ed25519 AAAAB3NzaC1yc2EAAAADAQABAAABAQC6eNtGpNGwstc....

3. 部署到公钥中
复制生成后的 ssh key，登录gitee, 进到自己的主页的设置中， 通过仓库主页「仓库设置」-&gt;「部署公钥管理」-&gt;「添加部署公钥」 ，添加生成的 public key 添加到仓库中。

4. 添加本机SSH可信列表
在终端（Terminal）中输入：
ssh -T git@gitee.com

首次使用需要确认并添加主机到本机 SSH 可信列表。若返回 Hi XXX! You've successfully authenticated, but Gitee.com does not provide shell access. 内容，则证明添加成功。
</code></pre>
<h3 id="12-key">1.2 多key管理</h3>
<p>需要有多个账号，或者与平时其他的账号隔离开可以参考: <a href="https://help.gitee.com/enterprise/code-manage/%E6%9D%83%E9%99%90%E4%B8%8E%E8%AE%BE%E7%BD%AE/%E9%83%A8%E7%BD%B2%E5%85%AC%E9%92%A5%E7%AE%A1%E7%90%86/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-Key">mutil key manange</a></p>
<ol>
<li>与上面的指令类似</li>
</ol>
<pre><code class="language-bash"> ssh-keygen -t ed25519 -C &quot;Gitee aaa outlook&quot; -f ~/.ssh/gitee_aaa_outlook_ed25519

将~/.ssh/gitee_aaa_outlook_ed25519.pub内容加入到网页中的设置的公共key管理中。

 vi ~/.ssh/config

Host gitee
    User git
    Hostname gitee.com
    Port 22
    IdentityFile ~/.ssh/gitee_aaa_outlook_ed25519

ssh -T gitee
# Hi aaa(@aaa)! You've successfully authenticated, but GITEE.COM does not provide shell access.

</code></pre>
<h3 id="note">Note</h3>
<pre><code>拉代码，提交操作

git clone git@gitee.com:tanchuanyi/documentation.git
or git clone gitee:tanchuanyi/documentation.git
git commit -s  #编辑修改内容     
git commit --amend #修改上一条提交内容
git push #提交

其中默认git commit -s 使用的是gun nano的编辑器进行编辑，其中操作ctrl+o 保存   crtl+x退出。
可以修改使用vim进行提交信息的编译，使用 git config --global core.editor &quot;vim&quot;。
</code></pre>
<h1 id="2repo-usage">2.Repo usage</h1>
<h2 id="21-repo">2.1 repo环境搭建</h2>
<p><font color="#dd0000" size="4">参考Gitee repo官方工具使用方法 ，直接参考该文档 <a href="https://help.gitee.com/enterprise/code-manage/%E9%9B%86%E6%88%90%E4%B8%8E%E7%94%9F%E6%80%81/Repo%20%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D">Repo 工具使用介绍</a>， 前题需要配置好python的环境， 安装好python3的环境，并配置好默认python使用的python3工具。</font><br /></p>
<p>或参考：获取 <a href="https://mirrors.tuna.tsinghua.edu.cn/help/git-repo/">tsinghua 源 repo</a></p>
<pre><code class="language-bash">
$ repo --version
&lt;repo not installed&gt;
repo launcher version 2.40
       (from /home/tanyi/bin/repo)
git 2.17.1
Python 3.8.0 (default, Dec  9 2021, 17:53:27)
[GCC 8.4.0]
OS Linux 4.10.0-28-generic (#32~16.04.2-Ubuntu SMP Thu Jul 20 10:19:48 UTC 2017)
CPU x86_64 (x86_64)
Bug reports: https://issues.gerritcodereview.com/issues/new?component=1370071

sudo apt install python3.8

sudo apt install libpython3.8-dev

将Python3.8设置为默认Python解释器
sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.8 100

sudo update-alternatives --install /usr/bin/python  python /usr/bin/python2.7 200

sudo update-alternatives --config python

python --version
</code></pre>
<h2 id="22-manifest">2.2 manifest仓库使用</h2>
<h3 id="221">2.2.1 创建仓库</h3>
<pre><code class="language-bash">git init --bare manifest.git

$ git init --bare manifest.git
Initialized empty Git repository in /mnt/share/gitee/repo_test/manifest.git/

repo_test$ tree  -L 2
.
└── manifest.git
    ├── branches
    ├── config
    ├── description
    ├── HEAD
    ├── hooks
    ├── info
    ├── objects
    └── refs
</code></pre>
<h3 id="222-defaultxml">2.2.2 创建default.xml</h3>
<p>manifest的仓库 https://gitee.com/tanchuanyi/manifest， 在仓库中提交default.xml 和 test.xml
简单使用如此章，具体的详细和更多用法，参考：<a href="https://gitee.com/tanchuanyi/documentation/blob/master/docPage/GiteeManageDoc/Repo_Detail_Usage.md">repo多仓库管理工具</a></p>
<ul>
<li>使用默认的default.xml拉取代码</li>
</ul>
<pre><code class="language-bash">repo init -u git@gitee.com:tanchuanyi/manifest.git
</code></pre>
<pre><code class="language-xml">&lt;!--default.xml--&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;manifest&gt;
  &lt;remote  name=&quot;gitee&quot;
           fetch=&quot;git@gitee.com:tanchuanyi&quot; 
           autodotgit=&quot;true&quot; /&gt; &lt;!--fetch=&quot;..&quot; 代表使用 repo init -u 指定的相对路径 也可用完整路径，example:https://gitee.com/MarineJ/manifest_example/blob/master/default.xml--&gt;
  &lt;default revision=&quot;master&quot;
           remote=&quot;gitee&quot; /&gt;
  &lt;project path=&quot;Uconfig&quot; name=&quot;Uconfig&quot;  /&gt;
  &lt;project path=&quot;documentation&quot; name=&quot;documentation&quot; /&gt;
&lt;/manifest&gt;
</code></pre>
<ul>
<li>使用指定test.xml拉取代码</li>
</ul>
<pre><code class="language-bash">repo init -u git@gitee.com:tanchuanyi/manifest.git -m test.xml
</code></pre>
<pre><code class="language-xml">&lt;!--test.xml--&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;manifest&gt;
  &lt;remote  name=&quot;gitee&quot;
           fetch=&quot;git@gitee.com:tanchuanyi&quot; 
           autodotgit=&quot;true&quot; /&gt;
  &lt;default revision=&quot;master&quot;
           remote=&quot;gitee&quot; sync-j=&quot;2&quot; /&gt;
  &lt;project path=&quot;Uconfig&quot; name=&quot;Uconfig&quot; groups=&quot;gitee&quot; revision=&quot;master&quot; /&gt;
  &lt;project path=&quot;documentation&quot; name=&quot;documentation&quot; groups=&quot;gitee&quot; revision=&quot;master&quot; /&gt;
&lt;/manifest&gt;
</code></pre>
<h3 id="223-repo-sync">2.2.3 repo sync拉代码</h3>
<pre><code class="language-bash">$ repo sync -j12

$ tree -alL 2
.
├── documentation
│   ├── docPage
│   ├── .git
│   ├── gitee_user_guide.md
│   ├── .gitignore
│   ├── LICENSE
│   ├── README.en.md
│   └── README.md
├── .repo
│   ├── manifests
│   ├── manifests.git
│   ├── manifest.xml
│   ├── project.list
│   ├── project-objects
│   ├── projects
│   ├── repo
│   ├── .repo_config.json
│   └── .repo_fetchtimes.json
└── Uconfig
    ├── configs
    ├── .git
    ├── .gitee
    ├── Makefile
    ├── Makefile.common
    ├── README.md
    ├── tools
    └── Uconfig

</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../.." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Repo_Detail_Usage/" class="btn btn-neutral float-right" title="Repo_Detail_Usage">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../.." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Repo_Detail_Usage/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
